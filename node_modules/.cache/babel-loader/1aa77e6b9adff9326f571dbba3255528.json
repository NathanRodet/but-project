{"ast":null,"code":"var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport propTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport videojs from 'video.js';\nimport '../pannellum/css/video-js.css';\nimport '../pannellum/css/pannellum.css';\nimport '../pannellum/css/style-textInfo.css';\nimport '../pannellum/js/libpannellum.js';\nimport '../pannellum/js/RequestAnimationFrame';\nimport '../pannellum/js/pannellum.js';\nimport '../pannellum/js/videojs-pannellum-plugin';\nvar PannellumVideo = (_temp = _class = function (_Component) {\n  _inherits(PannellumVideo, _Component);\n\n  function PannellumVideo(props) {\n    _classCallCheck(this, PannellumVideo);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.renderVideo = function (state) {\n      var children = _this.props.children; // make the array of sub components, even if its one, it become array of one \n\n      var hotspots = [].concat(children);\n      var hotspotArray = [];\n\n      if (Array.isArray(hotspots)) {\n        hotspots.map(function (hotspot) {\n          switch (hotspot.props.type) {\n            case \"info\":\n              return hotspotArray.push({\n                \"id\": Math.random().toString(36).substr(2, 9),\n                \"type\": hotspot.props.type,\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\n                \"text\": hotspot.props.text ? hotspot.props.text : \"\",\n                \"URL\": hotspot.props.URL ? hotspot.props.URL : \"\"\n              });\n\n            case \"custom\":\n              return hotspotArray.push({\n                \"id\": Math.random().toString(36).substr(2, 9),\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\n                \"cssClass\": hotspot.props.cssClass ? hotspot.props.cssClass : 'tooltipcss',\n                \"createTooltipFunc\": hotspot.props.tooltip ? hotspot.props.tooltip : _this.hotspotTooltip,\n                \"createTooltipArgs\": hotspot.props.tooltipArg ? hotspot.props.tooltipArg : {},\n                \"clickHandlerFunc\": hotspot.props.handleClick ? hotspot.props.handleClick : _this.handleClickHotspot,\n                \"clickHandlerArgs\": hotspot.props.handleClickArg ? hotspot.props.handleClickArg : {\n                  name: \"test\"\n                }\n              });\n\n            default:\n              return [];\n          }\n        });\n      }\n\n      if (state === \"update\") {\n        _this.video = videojs(_this.videoNode);\n        var cuurentHS = [].concat(_this.video.pnlmViewer.getConfig().hotSpots);\n\n        _this.video.pnlmViewer.setYaw(_this.props.yaw);\n\n        _this.video.pnlmViewer.setPitch(_this.props.pitch);\n\n        _this.video.pnlmViewer.setHfov(_this.props.hfov);\n\n        _this.video.pnlmViewer.setHfovBounds([_this.props.minHfov, _this.props.maxHfov]); //remove all hotspots\n\n\n        cuurentHS.map(function (hs) {\n          return _this.video.pnlmViewer.removeHotSpot(hs.id);\n        }); // Adding new hotspots\n\n        hotspotArray.map(function (hs) {\n          return _this.video.pnlmViewer.addHotSpot(hs);\n        }); // setting new video\n\n        _this.video.src({\n          type: 'video/mp4',\n          src: _this.props.video\n        });\n\n        return _this.video.play();\n      } else {\n        _this.video = videojs(_this.videoNode, {\n          loop: _this.props.loop,\n          autoplay: _this.props.autoplay,\n          controls: _this.props.controls,\n          muted: _this.props.muted,\n          plugins: {\n            pannellum: {\n              yaw: _this.props.yaw,\n              pitch: _this.props.pitch,\n              hfov: _this.props.hfov,\n              minHfov: _this.props.minHfov,\n              maxHfov: _this.props.maxHfov,\n              minPitch: _this.props.minPitch,\n              maxPitch: _this.props.maxPitch,\n              minYaw: _this.props.minYaw,\n              maxYaw: _this.props.maxYaw,\n              hotSpotDebug: _this.props.hotspotDebug,\n              autoRotate: _this.props.autoRotate,\n              mouseZoom: _this.props.mouseZoom,\n              hotSpots: hotspotArray\n            }\n          }\n        });\n\n        _this.video.src({\n          type: 'video/mp4',\n          src: _this.props.video\n        });\n\n        _this.video.play();\n      }\n    };\n\n    _this.componentDidMount = function () {\n      _this.renderVideo(\"mount\");\n    };\n\n    _this.handleClickHotspot = function (e, args) {\n      console.log(\"hotspot clicked\", args.name);\n    };\n\n    _this.hotspotTooltip = function (hotSpotDiv, args) {\n      hotSpotDiv.setAttribute(\"id\", \"textInfo\");\n      var hDiv = document.createElement('div');\n      hDiv.classList.add('hotspot');\n      var outDiv = document.createElement('div');\n      outDiv.classList.add('out');\n      var inDiv = document.createElement('div');\n      inDiv.classList.add('in');\n      var imageDiv = document.createElement('div');\n      imageDiv.classList.add('image');\n      hotSpotDiv.appendChild(hDiv);\n      hDiv.appendChild(inDiv);\n      hDiv.appendChild(outDiv);\n    };\n\n    _this.getViewer = function () {\n      return _this.video.pnlmViewer;\n    };\n\n    _this.state = {\n      id: Math.random().toString(36).substr(2, 9)\n    };\n    return _this;\n  }\n\n  PannellumVideo.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    // videojs(this.videoNode).dispose();\n    // this.videoNode.setAttribute(\"src\", this.props.video );\n    this.renderVideo(\"update\");\n  };\n\n  PannellumVideo.prototype.componentWillUnmount = function componentWillUnmount() {\n    videojs(this.videoNode).dispose();\n  };\n\n  PannellumVideo.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        width = _props.width,\n        height = _props.height,\n        video = _props.video;\n    var divStyle = {\n      width: width,\n      height: height\n    };\n    return React.createElement('div', {\n      'data-vjs-player': true\n    }, React.createElement('video', {\n      id: this.props.id ? this.props.id : this.state.id,\n      className: 'video-js vjs-default-skin vjs-big-play-centered',\n      ref: function ref(node) {\n        return _this2.videoNode = node;\n      },\n      preload: 'none',\n      crossOrigin: 'anonymous',\n      style: divStyle\n    }));\n  };\n\n  return PannellumVideo;\n}(Component), _class.defaultProps = {\n  children: [],\n  width: '100%',\n  height: '400px',\n  video: '',\n  yaw: 0,\n  pitch: 0,\n  hfov: 100,\n  minHfov: 50,\n  maxHfov: 150,\n  minPitch: -90,\n  maxPitch: 90,\n  minYaw: -180,\n  maxYaw: 180,\n  hotspotDebug: false,\n  autoRotate: 0,\n  mouseZoom: true,\n  loop: false,\n  autoplay: true,\n  controls: false,\n  muted: true\n}, _temp);\nPannellumVideo.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: propTypes.oneOfType([propTypes.arrayOf(propTypes.node), propTypes.node]),\n  id: propTypes.string,\n  width: propTypes.string,\n  height: propTypes.string,\n  video: propTypes.string,\n  yaw: propTypes.number,\n  pitch: propTypes.number,\n  hfov: propTypes.number,\n  minHfov: propTypes.number,\n  maxHfov: propTypes.number,\n  minPitch: propTypes.number,\n  maxPitch: propTypes.number,\n  minYaw: propTypes.number,\n  maxYaw: propTypes.number,\n  hotspotDebug: propTypes.bool,\n  autoRotate: propTypes.number,\n  mouseZoom: propTypes.bool,\n  loop: propTypes.bool,\n  autoplay: propTypes.bool,\n  controls: propTypes.bool,\n  muted: propTypes.bool,\n  tooltip: propTypes.func,\n  tooltipArg: propTypes.object,\n  handleClick: propTypes.func,\n  handleClickArg: propTypes.object,\n  cssClass: propTypes.string\n} : {};\nexport default PannellumVideo;","map":{"version":3,"sources":["C:/Users/franc/Documents/GitHub/but-project/node_modules/pannellum-react/es/elements/PannellumVideo.js"],"names":["_class","_temp","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","propTypes","React","Component","videojs","PannellumVideo","_Component","props","_this","renderVideo","state","children","hotspots","concat","hotspotArray","Array","isArray","map","hotspot","type","push","Math","random","toString","substr","pitch","yaw","text","URL","cssClass","tooltip","hotspotTooltip","tooltipArg","handleClick","handleClickHotspot","handleClickArg","name","video","videoNode","cuurentHS","pnlmViewer","getConfig","hotSpots","setYaw","setPitch","setHfov","hfov","setHfovBounds","minHfov","maxHfov","hs","removeHotSpot","id","addHotSpot","src","play","loop","autoplay","controls","muted","plugins","pannellum","minPitch","maxPitch","minYaw","maxYaw","hotSpotDebug","hotspotDebug","autoRotate","mouseZoom","componentDidMount","e","args","console","log","hotSpotDiv","setAttribute","hDiv","document","createElement","classList","add","outDiv","inDiv","imageDiv","appendChild","getViewer","componentDidUpdate","prevProps","componentWillUnmount","dispose","render","_this2","_props","width","height","divStyle","className","ref","node","preload","crossOrigin","style","defaultProps","process","env","NODE_ENV","oneOfType","arrayOf","string","number","bool","func","object"],"mappings":"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","sourcesContent":["var _class, _temp;\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nimport propTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport videojs from 'video.js';\r\nimport '../pannellum/css/video-js.css';\r\nimport '../pannellum/css/pannellum.css';\r\nimport '../pannellum/css/style-textInfo.css';\r\nimport '../pannellum/js/libpannellum.js';\r\nimport '../pannellum/js/RequestAnimationFrame';\r\nimport '../pannellum/js/pannellum.js';\r\nimport '../pannellum/js/videojs-pannellum-plugin';\r\n\r\nvar PannellumVideo = (_temp = _class = function (_Component) {\r\n  _inherits(PannellumVideo, _Component);\r\n\r\n  function PannellumVideo(props) {\r\n    _classCallCheck(this, PannellumVideo);\r\n\r\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\r\n\r\n    _this.renderVideo = function (state) {\r\n      var children = _this.props.children;\r\n      // make the array of sub components, even if its one, it become array of one \r\n\r\n      var hotspots = [].concat(children);\r\n      var hotspotArray = [];\r\n      if (Array.isArray(hotspots)) {\r\n        hotspots.map(function (hotspot) {\r\n          switch (hotspot.props.type) {\r\n\r\n            case \"info\":\r\n              return hotspotArray.push({\r\n                \"id\": Math.random().toString(36).substr(2, 9),\r\n                \"type\": hotspot.props.type,\r\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\r\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\r\n                \"text\": hotspot.props.text ? hotspot.props.text : \"\",\r\n                \"URL\": hotspot.props.URL ? hotspot.props.URL : \"\"\r\n              });\r\n            case \"custom\":\r\n              return hotspotArray.push({\r\n                \"id\": Math.random().toString(36).substr(2, 9),\r\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\r\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\r\n                \"cssClass\": hotspot.props.cssClass ? hotspot.props.cssClass : 'tooltipcss',\r\n                \"createTooltipFunc\": hotspot.props.tooltip ? hotspot.props.tooltip : _this.hotspotTooltip,\r\n                \"createTooltipArgs\": hotspot.props.tooltipArg ? hotspot.props.tooltipArg : {},\r\n                \"clickHandlerFunc\": hotspot.props.handleClick ? hotspot.props.handleClick : _this.handleClickHotspot,\r\n                \"clickHandlerArgs\": hotspot.props.handleClickArg ? hotspot.props.handleClickArg : { name: \"test\" }\r\n              });\r\n            default:\r\n              return [];\r\n          }\r\n        });\r\n      }\r\n\r\n      if (state === \"update\") {\r\n\r\n        _this.video = videojs(_this.videoNode);\r\n        var cuurentHS = [].concat(_this.video.pnlmViewer.getConfig().hotSpots);\r\n        _this.video.pnlmViewer.setYaw(_this.props.yaw);\r\n        _this.video.pnlmViewer.setPitch(_this.props.pitch);\r\n        _this.video.pnlmViewer.setHfov(_this.props.hfov);\r\n        _this.video.pnlmViewer.setHfovBounds([_this.props.minHfov, _this.props.maxHfov]);\r\n\r\n        //remove all hotspots\r\n        cuurentHS.map(function (hs) {\r\n          return _this.video.pnlmViewer.removeHotSpot(hs.id);\r\n        });\r\n        // Adding new hotspots\r\n        hotspotArray.map(function (hs) {\r\n          return _this.video.pnlmViewer.addHotSpot(hs);\r\n        });\r\n        // setting new video\r\n        _this.video.src({\r\n          type: 'video/mp4',\r\n          src: _this.props.video\r\n        });\r\n        return _this.video.play();\r\n      } else {\r\n        _this.video = videojs(_this.videoNode, {\r\n          loop: _this.props.loop,\r\n          autoplay: _this.props.autoplay,\r\n          controls: _this.props.controls,\r\n          muted: _this.props.muted,\r\n          plugins: {\r\n            pannellum: {\r\n              yaw: _this.props.yaw,\r\n              pitch: _this.props.pitch,\r\n              hfov: _this.props.hfov,\r\n              minHfov: _this.props.minHfov,\r\n              maxHfov: _this.props.maxHfov,\r\n              minPitch: _this.props.minPitch,\r\n              maxPitch: _this.props.maxPitch,\r\n              minYaw: _this.props.minYaw,\r\n              maxYaw: _this.props.maxYaw,\r\n              hotSpotDebug: _this.props.hotspotDebug,\r\n              autoRotate: _this.props.autoRotate,\r\n              mouseZoom: _this.props.mouseZoom,\r\n              hotSpots: hotspotArray\r\n            }\r\n          }\r\n        });\r\n        _this.video.src({ type: 'video/mp4', src: _this.props.video });\r\n        _this.video.play();\r\n      }\r\n    };\r\n\r\n    _this.componentDidMount = function () {\r\n      _this.renderVideo(\"mount\");\r\n    };\r\n\r\n    _this.handleClickHotspot = function (e, args) {\r\n      console.log(\"hotspot clicked\", args.name);\r\n    };\r\n\r\n    _this.hotspotTooltip = function (hotSpotDiv, args) {\r\n      hotSpotDiv.setAttribute(\"id\", \"textInfo\");\r\n      var hDiv = document.createElement('div');\r\n      hDiv.classList.add('hotspot');\r\n      var outDiv = document.createElement('div');\r\n      outDiv.classList.add('out');\r\n      var inDiv = document.createElement('div');\r\n      inDiv.classList.add('in');\r\n      var imageDiv = document.createElement('div');\r\n      imageDiv.classList.add('image');\r\n      hotSpotDiv.appendChild(hDiv);\r\n      hDiv.appendChild(inDiv);\r\n      hDiv.appendChild(outDiv);\r\n    };\r\n\r\n    _this.getViewer = function () {\r\n      return _this.video.pnlmViewer;\r\n    };\r\n\r\n    _this.state = {\r\n      id: Math.random().toString(36).substr(2, 9)\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  PannellumVideo.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\r\n    // videojs(this.videoNode).dispose();\r\n    // this.videoNode.setAttribute(\"src\", this.props.video );\r\n    this.renderVideo(\"update\");\r\n  };\r\n\r\n  PannellumVideo.prototype.componentWillUnmount = function componentWillUnmount() {\r\n    videojs(this.videoNode).dispose();\r\n  };\r\n\r\n  PannellumVideo.prototype.render = function render() {\r\n    var _this2 = this;\r\n\r\n    var _props = this.props,\r\n        width = _props.width,\r\n        height = _props.height,\r\n        video = _props.video;\r\n\r\n    var divStyle = {\r\n      width: width,\r\n      height: height\r\n    };\r\n    return React.createElement(\r\n      'div',\r\n      { 'data-vjs-player': true },\r\n      React.createElement('video', {\r\n        id: this.props.id ? this.props.id : this.state.id,\r\n        className: 'video-js vjs-default-skin vjs-big-play-centered',\r\n        ref: function ref(node) {\r\n          return _this2.videoNode = node;\r\n        },\r\n        preload: 'none',\r\n        crossOrigin: 'anonymous',\r\n        style: divStyle\r\n      })\r\n    );\r\n  };\r\n\r\n  return PannellumVideo;\r\n}(Component), _class.defaultProps = {\r\n  children: [],\r\n  width: '100%',\r\n  height: '400px',\r\n  video: '',\r\n  yaw: 0,\r\n  pitch: 0,\r\n  hfov: 100,\r\n  minHfov: 50,\r\n  maxHfov: 150,\r\n  minPitch: -90,\r\n  maxPitch: 90,\r\n  minYaw: -180,\r\n  maxYaw: 180,\r\n  hotspotDebug: false,\r\n  autoRotate: 0,\r\n  mouseZoom: true,\r\n  loop: false,\r\n  autoplay: true,\r\n  controls: false,\r\n  muted: true\r\n}, _temp);\r\nPannellumVideo.propTypes = process.env.NODE_ENV !== \"production\" ? {\r\n  children: propTypes.oneOfType([propTypes.arrayOf(propTypes.node), propTypes.node]),\r\n  id: propTypes.string,\r\n  width: propTypes.string,\r\n  height: propTypes.string,\r\n  video: propTypes.string,\r\n  yaw: propTypes.number,\r\n  pitch: propTypes.number,\r\n  hfov: propTypes.number,\r\n  minHfov: propTypes.number,\r\n  maxHfov: propTypes.number,\r\n  minPitch: propTypes.number,\r\n  maxPitch: propTypes.number,\r\n  minYaw: propTypes.number,\r\n  maxYaw: propTypes.number,\r\n  hotspotDebug: propTypes.bool,\r\n  autoRotate: propTypes.number,\r\n  mouseZoom: propTypes.bool,\r\n  loop: propTypes.bool,\r\n  autoplay: propTypes.bool,\r\n  controls: propTypes.bool,\r\n  muted: propTypes.bool,\r\n  tooltip: propTypes.func,\r\n  tooltipArg: propTypes.object,\r\n  handleClick: propTypes.func,\r\n  handleClickArg: propTypes.object,\r\n  cssClass: propTypes.string\r\n} : {};\r\n\r\n\r\nexport default PannellumVideo;"]},"metadata":{},"sourceType":"module"}